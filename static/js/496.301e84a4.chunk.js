"use strict";(self.webpackChunkwebtorrentplayer_react=self.webpackChunkwebtorrentplayer_react||[]).push([[496],{9496:function(e,r,n){n.r(r),n.d(r,{default:function(){return i}});var o=n(2791),t=n(7022),s=n(6871),l=n(5565),a=n(184);function i(){var e=(0,s.UO)().magnet_or_torrent_url;return(0,o.useEffect)((function(){console.log("Play: ".concat(e))}),[e]),(0,a.jsxs)(t.Z,{children:[(0,a.jsx)("h2",{children:"Play"}),(0,a.jsx)(l.Z,{torrentId:e})]})}},5565:function(e,r,n){var o=n(885),t=n(2791),s=n(4483),l=n(3174),a=n(7022),i=n(9743),d=n(2677),c=n(184),u=n(7901);r.Z=function(e){var r=e.torrentId,f=(0,t.useState)({torrentInfoHash:"",torrentMagnetURI:"",torrentName:"",torrentProgress:"",torrentFiles:[],torrentNumPeers:0,torrentDownloadSpeed:0,torrentUploadSpeed:0}),h=(0,o.Z)(f,2),p=h[0],g=h[1];return(0,t.useEffect)((function(){var e=new(n(7331));e.on("error",(function(e){console.log("[+] Webtorrent error: "+e.message)})),e.add(r,(function(e){var r=setInterval((function(){var r,n,o;g({torrentProgress:(100*e.progress).toFixed(1)+"%",torrentNumPeers:null!==(r=e.numPeers)&&void 0!==r?r:0,torrentDownloadSpeed:u(null!==(n=e.downloadSpeed)&&void 0!==n?n:0)+"/s",torrentUploadSpeed:u(null!==(o=e.uploadSpeed)&&void 0!==o?o:0)+"/s"})}),500);e.on("done",(function(){g({torrentProgress:"100%"}),console.log("Progress: 100%"),clearInterval(r)})),g({torrentInfoHash:e.infoHash,torrentMagnetURI:e.magnetURI,torrentName:e.name,torrentFiles:e.files}),console.log(e.files);for(var n=e.files[0],o=1;o<e.files.length;o++)e.files[o].length>n.length&&e.files[o].name.endsWith(".mp4")&&(n=e.files[o]);n.renderTo("#video-container"),console.log(n)}))}),[r]),(0,c.jsxs)(a.Z,{fluid:!0,children:[(0,c.jsxs)(i.Z,{children:[(0,c.jsx)(d.Z,{children:(0,c.jsx)("span",{children:p.torrentProgress})}),(0,c.jsxs)(d.Z,{children:[(0,c.jsx)(s.G,{icon:l.FVb})," ",p.torrentNumPeers," peers"]}),(0,c.jsxs)(d.Z,{children:[(0,c.jsx)(s.G,{icon:l.r5q})," ",p.torrentDownloadSpeed]}),(0,c.jsxs)(d.Z,{children:[(0,c.jsx)(s.G,{icon:l.FPD})," ",p.torrentUploadSpeed]})]}),(0,c.jsx)(i.Z,{children:(0,c.jsx)(d.Z,{children:(0,c.jsx)("video",{id:"video-container",className:"ratio ratio-16x9"})})})]})}}}]);
//# sourceMappingURL=496.301e84a4.chunk.js.map