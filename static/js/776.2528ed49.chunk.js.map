{"version":3,"file":"static/js/776.2528ed49.chunk.js","mappings":"0NAKe,SAASA,IAItB,OACE,UAAC,IAAD,YACE,oCAEA,SAAC,IAAD,CAAkBC,UANJ,sgB,uGCHdC,EAAcC,EAAQ,MAwF5B,IAtFA,YAA0C,IAAdF,EAAa,EAAbA,UACpB,GAAkCG,EAAAA,EAAAA,UAAS,CAC3CC,gBAAiB,GACjBC,iBAAkB,GAClBC,YAAa,GACbC,gBAAiB,GACjBC,aAAc,GACdC,gBAAiB,EACjBC,qBAAsB,EACtBC,mBAAoB,IARxB,eAAKC,EAAL,KAAmBC,EAAnB,KA0DA,OA/CAC,EAAAA,EAAAA,YAAU,WAEN,IACIC,EAAS,IADIb,EAAQ,OAGzBa,EAAOC,GAAG,SAAS,SAAAC,GACfC,QAAQC,IAAI,yBAA2BF,EAAIG,YAG/CL,EAAOM,IAAIrB,GAAW,SAACsB,GACnB,IAAMC,EAAWC,aAAY,WAAO,IAAD,MAC/BX,EAAgB,CACZN,iBAAqC,IAAnBe,EAAQG,UAAgBC,QAAQ,GAAK,IACvDjB,gBAAe,UAAEa,EAAQK,gBAAV,QAAsB,EACrCjB,qBAAsBT,EAAW,UAACqB,EAAQM,qBAAT,QAA0B,GAAK,KAChEjB,mBAAoBV,EAAW,UAACqB,EAAQO,mBAAT,QAAwB,GAAK,SAEjE,KAEHP,EAAQN,GAAG,QAAQ,WACfH,EAAgB,CACZN,gBAAiB,SAErBW,QAAQC,IAAI,kBACZW,cAAcP,MAGlBV,EAAgB,CACZT,gBAAiBkB,EAAQS,SACzB1B,iBAAkBiB,EAAQU,UAC1B1B,YAAagB,EAAQW,KACrBzB,aAAcc,EAAQY,QAG1BhB,QAAQC,IAAIG,EAAQY,OAGpB,IADA,IAAIC,EAAcb,EAAQY,MAAM,GACvBE,EAAI,EAAGA,EAAId,EAAQY,MAAMG,OAAQD,IAClCd,EAAQY,MAAME,GAAGC,OAASF,EAAYE,QAAUf,EAAQY,MAAME,GAAGH,KAAKK,SAAS,UAC/EH,EAAcb,EAAQY,MAAME,IAGpCD,EAAYI,SAAS,oBACrBrB,QAAQC,IAAIgB,QAEjB,CAACnC,KAGA,UAAC,IAAD,CAAWwC,OAAK,EAAhB,WACI,UAAC,IAAD,YACI,SAAC,IAAD,WACI,0BAAO5B,EAAaL,qBAExB,UAAC,IAAD,YACI,SAAC,IAAD,CAAiBkC,KAAMC,EAAAA,MAD3B,IACwC9B,EAAaH,gBADrD,aAGA,UAAC,IAAD,YACI,SAAC,IAAD,CAAiBgC,KAAME,EAAAA,MAD3B,IAC4C/B,EAAaF,yBAEzD,UAAC,IAAD,YACI,SAAC,IAAD,CAAiB+B,KAAMG,EAAAA,MAD3B,IAC0ChC,EAAaD,0BAG3D,SAAC,IAAD,WACI,SAAC,IAAD,WACI,kBAAOkC,GAAG,kBAAkBC,UAAU","sources":["SintelSample.js","WebTorrentPlayer.js"],"sourcesContent":["\nimport React from \"react\";\nimport { Container } from 'react-bootstrap';\nimport WebTorrentPlayer from \"./WebTorrentPlayer\";\n\nexport default function SintelSample() {\n  // Sintel, a free, Creative Commons movie\n  const torrentId = 'magnet:?xt=urn:btih:08ada5a7a6183aae1e09d831df6748d566095a10&dn=Sintel&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.fastcast.nz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com&ws=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2F&xs=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2Fsintel.torrent';\n  \n  return (\n    <Container>\n      <h2>Sintel</h2>\n\n      <WebTorrentPlayer torrentId={torrentId}></WebTorrentPlayer>\n    </Container>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUsers, faArrowUp, faArrowDown } from '@fortawesome/free-solid-svg-icons'\nimport { Col, Container, Row } from 'react-bootstrap';\nconst prettyBytes = require('pretty-bytes');\n\nfunction WebTorrentPlayer({ torrentId }) {\n    var [torrentState, setTorrentState] = useState({\n        torrentInfoHash: \"\",\n        torrentMagnetURI: \"\",\n        torrentName: \"\",\n        torrentProgress: \"\",\n        torrentFiles: [],\n        torrentNumPeers: 0,\n        torrentDownloadSpeed: 0,\n        torrentUploadSpeed: 0,\n      });\n\n    useEffect(() => {\n\n        var WebTorrent = require('webtorrent/webtorrent.min.js');\n        var client = new WebTorrent();\n\n        client.on('error', err => {\n            console.log('[+] Webtorrent error: ' + err.message);\n        });\n\n        client.add(torrentId, (torrent) => {\n            const interval = setInterval(() => {\n                setTorrentState({\n                    torrentProgress: (torrent.progress * 100).toFixed(1) + '%',\n                    torrentNumPeers: torrent.numPeers ?? 0,\n                    torrentDownloadSpeed: prettyBytes(torrent.downloadSpeed ?? 0) + '/s',\n                    torrentUploadSpeed: prettyBytes(torrent.uploadSpeed ?? 0) + '/s',\n                });\n            }, 500);\n\n            torrent.on('done', () => {\n                setTorrentState({\n                    torrentProgress: 100 + '%',\n                });\n                console.log('Progress: 100%');\n                clearInterval(interval);\n            })\n    \n            setTorrentState({\n                torrentInfoHash: torrent.infoHash,\n                torrentMagnetURI: torrent.magnetURI,\n                torrentName: torrent.name,\n                torrentFiles: torrent.files,\n            });\n\n            console.log(torrent.files);\n            // Find largest file\n            var largestFile = torrent.files[0]\n            for (var i = 1; i < torrent.files.length; i++) {\n                if (torrent.files[i].length > largestFile.length && torrent.files[i].name.endsWith('.mp4')) {\n                    largestFile = torrent.files[i]\n                }\n            }\n            largestFile.renderTo('#video-container');\n            console.log(largestFile);\n        });\n    }, [torrentId]);\n\n    return (\n        <Container fluid>\n            <Row>\n                <Col>\n                    <span>{torrentState.torrentProgress}</span>\n                </Col>\n                <Col>\n                    <FontAwesomeIcon icon={faUsers} /> {torrentState.torrentNumPeers} peers\n                </Col>\n                <Col>\n                    <FontAwesomeIcon icon={faArrowDown} /> {torrentState.torrentDownloadSpeed}\n                </Col>\n                <Col>\n                    <FontAwesomeIcon icon={faArrowUp} /> {torrentState.torrentUploadSpeed}\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    <video id=\"video-container\" className=\"ratio ratio-16x9\">\n                        {/* <video id=\"player\"></video> */}\n                    </video>\n                </Col>\n            </Row>\n        </Container>\n    );\n}\n\nexport default WebTorrentPlayer;"],"names":["SintelSample","torrentId","prettyBytes","require","useState","torrentInfoHash","torrentMagnetURI","torrentName","torrentProgress","torrentFiles","torrentNumPeers","torrentDownloadSpeed","torrentUploadSpeed","torrentState","setTorrentState","useEffect","client","on","err","console","log","message","add","torrent","interval","setInterval","progress","toFixed","numPeers","downloadSpeed","uploadSpeed","clearInterval","infoHash","magnetURI","name","files","largestFile","i","length","endsWith","renderTo","fluid","icon","faUsers","faArrowDown","faArrowUp","id","className"],"sourceRoot":""}